import"./main-BD-_UCWi.js";import"./theme-toggle-IROBbEhU.js";/* empty css             *//* empty css             */import"./language-toggle-D1G5wGcu.js";import{_ as e}from"./logger-ChK4SyZc.js";class t{constructor(e){this.container=e,this.tooltip=e.querySelector("[data-tooltip-container]"),this.learningPanel=e.querySelector("[data-learning-panel]"),this.loadingElement=e.querySelector("[data-loading]"),this.fileTree=e.querySelector("[data-file-tree]"),this.expandedFolders=/* @__PURE__ */new Set(["/","/src","/src/components"]),this.currentTooltip=null,this.tooltipTimeout=null,this.handleItemInteraction=this.handleItemInteraction.bind(this),this.handleKeyboard=this.handleKeyboard.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.closeLearningPanel=this.closeLearningPanel.bind(this),this.init()}async init(){await this.setupFileData(),this.renderFileTree(),this.setupEventListeners(),this.hideLoading()}async setupFileData(){const{getAllFileData:t}=await e((async()=>{const{getAllFileData:e}=await import("./index-mECzquns.js");return{getAllFileData:e}}),[]);this.fileData=t()}renderFileTree(){const e=this.fileTree.querySelector(".bsb-file-explorer__list--nested"),t=[{path:"/package.json",indent:0},{path:"/vite.config.js",indent:0},{path:"/.gitignore",indent:0},{path:"/README.md",indent:0},{path:"/src",indent:0,children:[{path:"/src/components",indent:1,children:[{path:"/src/components/header",indent:2,children:[{path:"/src/components/header/header.html",indent:3},{path:"/src/components/header/header.css",indent:3},{path:"/src/components/header/header.js",indent:3}]}]},{path:"/src/styles",indent:1,children:[{path:"/src/styles/base",indent:2,children:[{path:"/src/styles/base/variables.css",indent:3}]}]},{path:"/src/scripts",indent:1}]},{path:"/tests",indent:0},{path:"/docs",indent:0}];this.generateFileTreeHTML(t).then((t=>{e.innerHTML=t}))}async generateFileTreeHTML(t){const{renderFileItem:i}=await e((async()=>{const{renderFileItem:e}=await import("./file-tree-renderer-CvEXD8KW.js");return{renderFileItem:e}}),[]),n=[];for(const e of t){const t=this.fileData[e.path];if(t){const r=this.expandedFolders.has(e.path);let l=i(e,t,r);if(e.children&&e.children.length>0&&r){const t=await this.generateFileTreeHTML(e.children);l=l.replace(`data-children-path="${e.path}">`,`data-children-path="${e.path}">${t}`)}n.push(l)}}return n.join("")}async getFileIcon(t){const{getFileIcon:i}=await e((async()=>{const{getFileIcon:e}=await import("./file-tree-renderer-CvEXD8KW.js");return{getFileIcon:e}}),[]);return i(t)}setupEventListeners(){this.fileTree.addEventListener("click",this.handleItemInteraction),this.fileTree.addEventListener("mouseenter",this.handleItemInteraction,!0),this.fileTree.addEventListener("mouseleave",this.hideTooltip),this.fileTree.addEventListener("keydown",this.handleKeyboard),this.learningPanel.querySelector(".bsb-file-explorer__panel-close").addEventListener("click",this.closeLearningPanel),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(this.closeLearningPanel(),this.hideTooltip())}))}handleItemInteraction(e){const t=e.target.closest(".bsb-file-explorer__item");if(!t)return;const{path:i}=t.dataset,n=e.target.closest(".bsb-file-explorer__toggle");"click"===e.type?n&&"folder"===t.dataset.type?this.toggleFolder(t,i):this.showDetails(i):"mouseenter"===e.type&&this.showTooltip(e,i)}handleKeyboard(e){const t=e.target.closest(".bsb-file-explorer__item");if(!t)return;const{path:i}=t.dataset;switch(e.key){case"Enter":case" ":this.handleEnterSpaceKey(e,t,i);break;case"ArrowRight":this.handleArrowRightKey(e,t,i);break;case"ArrowLeft":this.handleArrowLeftKey(e,t,i)}}handleEnterSpaceKey(e,t,i){e.preventDefault(),"folder"===t.dataset.type?this.toggleFolder(t,i):this.showDetails(i)}handleArrowRightKey(e,t,i){"folder"!==t.dataset.type||this.expandedFolders.has(i)||(e.preventDefault(),this.toggleFolder(t,i))}handleArrowLeftKey(e,t,i){"folder"===t.dataset.type&&this.expandedFolders.has(i)&&(e.preventDefault(),this.toggleFolder(t,i))}toggleFolder(e,t){const i=this.expandedFolders.has(t),n=e.querySelector(".bsb-file-explorer__toggle"),r=n.querySelector(".bsb-file-explorer__toggle-icon");i?(this.expandedFolders.delete(t),e.classList.add("bsb-file-explorer__item--collapsed"),e.setAttribute("aria-expanded","false"),r.textContent="ðŸ“",n.setAttribute("aria-label",`Expand ${this.fileData[t].name}`)):(this.expandedFolders.add(t),e.classList.remove("bsb-file-explorer__item--collapsed"),e.setAttribute("aria-expanded","true"),r.textContent="ðŸ“‚",n.setAttribute("aria-label",`Collapse ${this.fileData[t].name}`))}showTooltip(e,t){const i=this.fileData[t];if(!i)return;clearTimeout(this.tooltipTimeout);const n=e.target.closest(".bsb-file-explorer__item-content").getBoundingClientRect(),r=this.container.getBoundingClientRect();this.tooltip.querySelector(".bsb-file-explorer__tooltip-title").textContent=i.title,this.tooltip.querySelector(".bsb-file-explorer__tooltip-description").textContent=i.description,this.tooltip.querySelector(".bsb-file-explorer__tooltip-meta").textContent=`${"folder"===i.type?"Folder":"File"} â€¢ ${i.category||i.fileType||"General"}`;const l=this.tooltip.getBoundingClientRect(),s=n.left-r.left+n.width/2-l.width/2,a=n.top-r.top-l.height-10,o=r.width-l.width-10;this.tooltip.style.left=`${Math.max(10,Math.min(s,o))}px`,this.tooltip.style.top=`${Math.max(10,a)}px`,this.tooltip.setAttribute("aria-hidden","false"),this.currentTooltip=t,this.tooltip.querySelector(".bsb-file-explorer__tooltip-learn-more").onclick=()=>this.showDetails(t)}hideTooltip(){this.tooltipTimeout=setTimeout((()=>{this.tooltip.setAttribute("aria-hidden","true"),this.currentTooltip=null}),150)}showDetails(e){const t=this.fileData[e];if(!t||!t.details)return;this.learningPanel.querySelector(".bsb-file-explorer__panel-title").textContent=t.title,this.learningPanel.querySelector(".bsb-file-explorer__panel-description").innerHTML=t.details;const i=this.learningPanel.querySelector(".bsb-file-explorer__panel-links");t.links?i.innerHTML=`\n        <h5>ðŸ“š Learn More:</h5>\n        <ul>\n          ${t.links.map((e=>`<li><a href="${e.url}" target="_blank">${e.text}</a></li>`)).join("")}\n        </ul>\n      `:i.innerHTML="",this.learningPanel.setAttribute("aria-hidden","false"),this.hideTooltip()}closeLearningPanel(){this.learningPanel.setAttribute("aria-hidden","true")}hideLoading(){this.loadingElement.hidden=!0}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('[data-bsb-component="file-explorer"]').forEach((e=>{const i=new t(e);e.fileExplorerInstance=i}))})),window.BSBFileExplorer=t;
