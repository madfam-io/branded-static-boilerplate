const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/source-viewer-yk8nioDF.js","js/main-BD-_UCWi.js","assets/main-DJ1HJGmf.css","js/learning-progress-B8eSVfBb.js"])))=>i.map(i=>d[i]);
import{_ as e,l as t}from"./logger-ChK4SyZc.js";import{d as n}from"./main-BD-_UCWi.js";class i{constructor(e){this.container=e,this.button=e.querySelector("[data-bsb-learning-button]"),this.label=e.querySelector("[data-bsb-learning-label]"),this.status=e.querySelector("[data-bsb-learning-status]"),this.isLearningMode=!1,this.isToggling=!1,this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyboard=this.handleKeyboard.bind(this),this.init()}init(){this.detectLearningMode(),this.updateUI(),this.setupEventListeners(),this.setupStorageListener()}detectLearningMode(){this.isLearningMode="true"===localStorage.getItem("bsb-dev-mode")}setupEventListeners(){this.button.addEventListener("click",this.handleButtonClick),this.button.addEventListener("keydown",this.handleKeyboard),window.addEventListener("storage",(e=>{"bsb-dev-mode"===e.key&&(this.detectLearningMode(),this.updateUI())}))}setupStorageListener(){setInterval((()=>{const e="true"===localStorage.getItem("bsb-dev-mode");e!==this.isLearningMode&&(this.isLearningMode=e,this.updateUI())}),1e3)}handleButtonClick(e){e.preventDefault(),this.isToggling||this.toggleLearningMode()}handleKeyboard(e){switch(e.key){case"Enter":case" ":e.preventDefault(),this.toggleLearningMode()}}toggleLearningMode(){this.isToggling=!0,this.button.setAttribute("data-toggling","true"),this.isLearningMode?this.disableLearningMode():this.enableLearningMode(),setTimeout((()=>{this.isToggling=!1,this.button.removeAttribute("data-toggling")}),400)}enableLearningMode(){this.isLearningMode=!0,localStorage.setItem("bsb-dev-mode","true"),localStorage.setItem("bsb-learning-mode","true"),this.updateUI(),document.body.setAttribute("data-learning-mode","true"),this.showNotification({title:"ðŸŽ“ Learning Mode Activated",message:"Interactive learning features are now enabled. Explore components to view their source code, track your progress, and unlock achievements!",type:"success",actions:[{text:"View Progress",action:()=>this.showLearningProgress(),primary:!1},{text:"Start Learning",action:()=>this.initializeMetaLearning(),primary:!0}]}),this.dispatchLearningModeChange(!0),this.initializeMetaLearning()}disableLearningMode(){this.isLearningMode=!1,localStorage.setItem("bsb-dev-mode","false"),localStorage.setItem("bsb-learning-mode","false"),this.updateUI(),document.body.setAttribute("data-learning-mode","false"),this.showNotification({title:"ðŸ“– Learning Mode Deactivated",message:"Learning features have been disabled. Your progress has been saved and will be available when you return.",type:"info",actions:[{text:"View Progress Summary",action:()=>this.showProgressSummary(),primary:!1},{text:"Continue Without Learning",action:()=>this.cleanupMetaLearning(),primary:!0}]}),this.dispatchLearningModeChange(!1),this.cleanupMetaLearning()}updateUI(){this.button.setAttribute("aria-pressed",this.isLearningMode),this.label.textContent=this.isLearningMode?"On":"Off";const e=this.isLearningMode?"Disable interactive learning features":"Enable interactive learning features";this.button.setAttribute("title",e);const t=this.isLearningMode?"on":"off",n=this.isLearningMode?"disable":"enable";this.button.setAttribute("aria-label",`Learning mode is ${t}. Click to ${n}.`),this.container.setAttribute("data-learning-active",this.isLearningMode)}showNotification({title:e,message:t,type:n="info",duration:i=5e3,actions:s=[]}){document.querySelectorAll(".bsb-learning-notification").forEach((e=>e.remove()));const a=document.createElement("div");a.className="bsb-learning-notification",a.setAttribute("role","alert"),a.setAttribute("aria-live","polite");let o="";return s.length>0&&(o=`\n        <div class="bsb-learning-notification__actions" style="margin-top: 1rem; display: flex; gap: 0.5rem;">\n          ${s.map((e=>`\n            <button\n              class="btn btn--small ${e.primary?"btn--primary":"btn--secondary"}"\n              onclick="this.closest('.bsb-learning-notification').bsbAction_${s.indexOf(e)}()"\n            >\n              ${e.text}\n            </button>\n          `)).join("")}\n        </div>\n      `),a.innerHTML=`\n      <button class="bsb-learning-notification__close" onclick="this.closest('.bsb-learning-notification').remove()" aria-label="Close notification">\n        Ã—\n      </button>\n      <div class="bsb-learning-notification__title">${e}</div>\n      <div class="bsb-learning-notification__text">${t}</div>\n      ${o}\n    `,s.forEach(((e,t)=>{a[`bsbAction_${t}`]=()=>{e.action(),a.remove()}})),document.body.appendChild(a),requestAnimationFrame((()=>{a.classList.add("bsb-learning-notification--show")})),i>0&&setTimeout((()=>{a.parentNode&&(a.classList.remove("bsb-learning-notification--show"),setTimeout((()=>a.remove()),300))}),i),a}dispatchLearningModeChange(e){const t=new CustomEvent("bsb:learningModeChange",{detail:{enabled:e,timestamp:Date.now()},bubbles:!0});this.container.dispatchEvent(t)}isEnabled(){return this.isLearningMode}enable(){this.isLearningMode||this.enableLearningMode()}disable(){this.isLearningMode&&this.disableLearningMode()}async initializeMetaLearning(){try{if(await this.loadMetaLearningStyles(),!window.BSBSourceViewer){const{default:t}=await e((async()=>{const{default:e}=await import("./source-viewer-yk8nioDF.js");return{default:e}}),__vite__mapDeps([0,1,2]));if(!window.BSBSourceViewer){const e=new t;window.BSBSourceViewer=e}}if(window.BSBSourceViewer.addViewSourceButtons(),!window.BSBLearningProgress){const{default:t}=await e((async()=>{const{default:e}=await import("./learning-progress-B8eSVfBb.js");return{default:e}}),__vite__mapDeps([3,1,2]));if(!window.BSBLearningProgress){const e=new t;window.BSBLearningProgress=e}}window.BSBHelper&&window.BSBHelper.init(),this.addEducationalTooltips(),window.BSBLearningProgress&&window.BSBLearningProgress.logActivity("learning-mode","Learning mode activated")}catch(n){t.error("Failed to initialize meta-learning features:",n)}}loadMetaLearningStyles(){const e=["source-viewer","learning-progress"];for(const t of e){const e=`bsb-${t}-css`;if(!document.getElementById(e)){const n=document.createElement("link");n.id=e,n.rel="stylesheet",n.href=`/branded-static-boilerplate/components/${t}/${t}.css`,document.head.appendChild(n)}}}addEducationalTooltips(){[{selector:".bsb-header",tip:"This header uses semantic HTML and responsive design patterns"},{selector:".bsb-card",tip:"Cards demonstrate BEM naming and component-based architecture"},{selector:".bsb-hero",tip:"Hero sections showcase CSS Grid and custom properties"},{selector:"[data-bsb-component]",tip:"Click the </> button to view this component's source code"}].forEach((({selector:e,tip:t})=>{document.querySelectorAll(e).forEach((e=>{e.setAttribute("data-learning-tooltip",t),e.classList.add("bsb-has-tooltip")}))}))}cleanupMetaLearning(){document.querySelectorAll(".bsb-view-source-btn").forEach((e=>{e.style.display="none"}));const e=document.querySelector(".bsb-learning-progress");e&&(e.style.display="none"),window.BSBHelper&&window.BSBHelper.disable&&window.BSBHelper.disable(),document.querySelectorAll("[data-learning-tooltip]").forEach((e=>{e.removeAttribute("data-learning-tooltip"),e.classList.remove("bsb-has-tooltip")}))}showLearningProgress(){const e=document.querySelector(".bsb-learning-progress");e?(e.classList.remove("bsb-learning-progress--minimized"),e.scrollIntoView({behavior:"smooth",block:"end"})):this.initializeMetaLearning().then((()=>{setTimeout((()=>this.showLearningProgress()),500)}))}showProgressSummary(){if(window.BSBLearningProgress){const{progress:e}=window.BSBLearningProgress,t=document.querySelectorAll("[data-bsb-component]").length,n=Math.round(e.componentsExplored.size/t*100);this.showNotification({title:"ðŸ“Š Your Learning Progress",message:`You've explored ${e.componentsExplored.size} of ${t} components (${n}% complete) and spent ${this.formatTime(e.timeSpent)} learning. Great job!`,type:"success",duration:8e3})}}formatTime(e){const t=Math.floor(e/6e4),n=Math.floor(t/60);return n>0?`${n}h ${t%60}m`:`${t}m`}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('[data-bsb-component="learning-toggle"]').forEach((e=>{const t=new i(e);e.learningToggleInstance=t}))}));const s=document.createElement("style");s.textContent='\n  /* Learning mode tooltips */\n  [data-learning-mode="true"] .bsb-has-tooltip {\n    position: relative;\n  }\n\n  [data-learning-mode="true"] .bsb-has-tooltip::after {\n    content: attr(data-learning-tooltip);\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-8px);\n    background: var(--bsb-gray-900, #111827);\n    color: white;\n    padding: 0.5rem 1rem;\n    border-radius: var(--bsb-radius-sm, 6px);\n    font-size: var(--bsb-text-sm, 0.875rem);\n    white-space: nowrap;\n    opacity: 0;\n    pointer-events: none;\n    transition: opacity 0.2s ease, transform 0.2s ease;\n    z-index: 1000;\n    max-width: 250px;\n    white-space: normal;\n    text-align: center;\n  }\n\n  [data-learning-mode="true"] .bsb-has-tooltip:hover::after {\n    opacity: 1;\n    transform: translateX(-50%) translateY(-12px);\n  }\n\n  /* View source buttons */\n  .bsb-view-source-btn {\n    transition: all 0.2s ease;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  }\n\n  .bsb-view-source-btn:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n',document.head.appendChild(s),window.BSBLearningToggle=i;class a{constructor(e){this.element=e,this.button=e.querySelector("[data-bsb-theme-button]"),this.menu=e.querySelector("[data-bsb-theme-menu]"),this.options=e.querySelectorAll("[data-theme]"),this.label=e.querySelector("[data-bsb-theme-label]"),this.currentTheme=this.getStoredTheme()||"auto",this.isMenuOpen=!1,this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.init()}init(){this.applyTheme(this.currentTheme,!1),this.setupEventListeners(),this.updateUI(),n.log(`BSB Theme Toggle: Initialized with theme "${this.currentTheme}"`)}setupEventListeners(){this.button.addEventListener("click",(()=>{this.toggleMenu()})),this.options.forEach((e=>{e.addEventListener("click",(()=>{const{theme:t}=e.dataset;this.setTheme(t),this.closeMenu()}))})),this.element.addEventListener("keydown",(e=>{this.handleKeydown(e)})),document.addEventListener("click",(e=>{this.element.contains(e.target)||this.closeMenu()})),this.mediaQuery.addEventListener("change",(()=>{"auto"===this.currentTheme&&this.updateSystemTheme()})),window.addEventListener("focus",(()=>{"auto"===this.currentTheme&&this.updateSystemTheme()}))}handleKeydown(e){const{key:t}=e;this.handleEscapeKey(e,t)||this.handleButtonToggle(e,t)||this.handleArrowNavigation(e,t)||this.handleMenuSelection(e,t)}handleEscapeKey(e,t){return!("Escape"!==t||!this.isMenuOpen||(e.preventDefault(),this.closeMenu(),this.button.focus(),0))}handleButtonToggle(e,t){return("Enter"===t||" "===t)&&e.target===this.button&&(e.preventDefault(),this.toggleMenu(),!0)}handleArrowNavigation(e,t){return!(!this.isMenuOpen||!["ArrowDown","ArrowUp"].includes(t)||(e.preventDefault(),this.navigateMenu("ArrowDown"===t?1:-1),0))}handleMenuSelection(e,t){if(this.isMenuOpen&&("Enter"===t||" "===t)&&e.target.dataset.theme){e.preventDefault();const{theme:t}=e.target.dataset;return this.setTheme(t),this.closeMenu(),this.button.focus(),!0}return!1}navigateMenu(e){const t=Array.from(this.options);let n=t.indexOf(document.activeElement)+e;n>=t.length?n=0:n<0&&(n=t.length-1),t[n].focus()}toggleMenu(){this.isMenuOpen?this.closeMenu():this.openMenu()}openMenu(){this.isMenuOpen=!0,this.button.setAttribute("aria-expanded","true"),this.menu.setAttribute("aria-hidden","false"),setTimeout((()=>{const[e]=this.options;e&&e.focus()}),100)}closeMenu(){this.isMenuOpen=!1,this.button.setAttribute("aria-expanded","false"),this.menu.setAttribute("aria-hidden","true")}setTheme(e){["light","dark","auto"].includes(e)?(this.currentTheme=e,this.applyTheme(e),this.storeTheme(e),this.updateUI(),this.dispatchThemeChange(e)):n.warn(`BSB Theme Toggle: Invalid theme "${e}"`)}applyTheme(e,t=!0){const{body:n}=document;t?this.applyThemeWithTransitions(e,n):this.applyThemeInstantly(e,n)}applyThemeWithTransitions(e,t){"auto"===e?t.removeAttribute("data-bsb-theme"):t.setAttribute("data-bsb-theme",e)}applyThemeInstantly(e,t){t.classList.add("no-transition"),"auto"===e?t.removeAttribute("data-bsb-theme"):t.setAttribute("data-bsb-theme",e),setTimeout((()=>{t.classList.remove("no-transition")}),50)}updateSystemTheme(){"auto"===this.currentTheme&&this.applyTheme("auto")}updateUI(){this.updateIcons(),this.updateMenuOptions(),this.updateLabel()}updateIcons(){this.element.querySelectorAll(".bsb-theme-toggle__icon").forEach((e=>{e.classList.remove("bsb-theme-toggle__icon--active")}));const e=this.element.querySelector(`.bsb-theme-toggle__icon--${this.currentTheme}`);e&&e.classList.add("bsb-theme-toggle__icon--active")}updateMenuOptions(){this.options.forEach((e=>{const t=e.dataset.theme===this.currentTheme;e.setAttribute("aria-current",t.toString())}))}updateLabel(){if(this.label){const e={light:"Light",dark:"Dark",auto:"Auto"};this.label.textContent=e[this.currentTheme]||"Auto"}}getStoredTheme(){try{return localStorage.getItem("bsb-theme")}catch(e){return n.warn("BSB Theme Toggle: Unable to access localStorage:",e),null}}storeTheme(e){try{localStorage.setItem("bsb-theme",e)}catch(t){n.warn("BSB Theme Toggle: Unable to save to localStorage:",t)}}dispatchThemeChange(e){const t=new CustomEvent("bsb:themechange",{detail:{theme:e,element:this.element},bubbles:!0});this.element.dispatchEvent(t)}}const o=function(){const e=document.querySelectorAll('[data-bsb-component="theme-toggle"]');e.forEach((e=>{const t=new a(e);e.themeToggleInstance=t})),n.log(`BSB Theme Toggle: Initialized ${e.length} toggle(s) ðŸŽ¨`)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.BSBThemeToggle=a;
